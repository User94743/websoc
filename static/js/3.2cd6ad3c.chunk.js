(this["webpackJsonpmy-test"]=this["webpackJsonpmy-test"]||[]).push([[3],{302:function(t,e,s){"use strict";s.d(e,"a",(function(){return d}));var n=s(3),c=s(37),o=s(38),r=s(40),i=s(39),a=s(0),u=s.n(a),j=s(10),b=s(18),p=s(1),l=function(t){return{isAuth:t.authPage.isAuth}},d=function(t){var e=function(e){Object(r.a)(a,e);var s=Object(i.a)(a);function a(){return Object(c.a)(this,a),s.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return this.props.isAuth?Object(p.jsx)(t,Object(n.a)({},this.props)):Object(p.jsx)(j.a,{to:"/login"})}}]),a}(u.a.Component);return Object(b.b)(l)(e)}},303:function(t,e,s){t.exports={ava:"profile_ava__3mrMw",status:"profile_status__14EDw"}},304:function(t,e,s){t.exports={posts:"mypost_posts__2-oFL"}},305:function(t,e,s){},306:function(t,e,s){t.exports={item_post:"post_item_post__3DFH0"}},308:function(t,e,s){"use strict";s.r(e);var n=s(3),c=s(37),o=s(38),r=s(40),i=s(39),a=s(0),u=s.n(a),j=(s(305),s(105)),b=s(303),p=s.n(b),l=s(44),d=s.p+"static/media/3573970.d9ead1cf.jpg",O=s(69),f=s(1),h=function(t){var e=Object(a.useState)(!1),s=Object(j.a)(e,2),n=s[0],c=s[1],o=Object(a.useState)(t.status),r=Object(j.a)(o,2),i=r[0],u=r[1];Object(a.useEffect)((function(){u(t.status)}),[t.status]);return Object(f.jsxs)("div",{children:[!n&&Object(f.jsx)("div",{children:Object(f.jsx)("span",{onDoubleClick:function(){c(!0)},className:p.a.status,children:i})}),n&&Object(f.jsx)("div",{children:Object(f.jsx)("input",Object(O.a)({value:i,onChange:function(t){u(t.currentTarget.value)},autoFocus:!0,onBlur:function(){c(!1),t.updateStatus(i)}},"autoFocus",!0))})]})},x=function(t){var e=t.title,s=t.contactValue;return Object(f.jsxs)("div",{children:[e,": ",s]})},m=function(t){var e=t.profile,s=t.isOwner,n=t.toEditMode;return Object(f.jsxs)("div",{children:[s&&Object(f.jsx)("button",{onClick:n,children:"Edit"}),Object(f.jsxs)("p",{children:["My ID: ",e.userId]}),Object(f.jsxs)("p",{children:["Looking a job: ",e.lookingForAJob?"yes":"no"]}),Object(f.jsxs)("p",{children:["Job description: ",e.lookingForAJobDescription]}),Object(f.jsxs)("p",{children:["About me: ",e.aboutMe]}),Object(f.jsxs)("p",{children:["Full name: ",e.fullName]}),Object(f.jsxs)("p",{children:["Contacts: ",Object.keys(e.contacts).map((function(t){return Object(f.jsx)(x,{title:t,contactValue:e.contacts[t]},t)}))]})]})},v=s(42),g=s(135),P=s(26),k=s.n(P),y=Object(g.a)({form:"edit-profile"})((function(t){var e=t.handleSubmit,s=t.profile,n=t.error;return Object(f.jsxs)("form",{onSubmit:e,children:[Object(f.jsx)("button",{children:"Save"}),n&&Object(f.jsx)("div",{className:k.a.formError,children:n}),Object(f.jsxs)("p",{children:["My ID: ",s.userId]}),Object(f.jsxs)("p",{children:["Looking a job: ",Object(v.d)("",[],v.b,"lookingForAJob",{type:"checkbox"})]}),Object(f.jsxs)("p",{children:["Job description: ",Object(v.d)("Job description",[],v.c,"lookingForAJobDescription")]}),Object(f.jsxs)("p",{children:["About me: ",Object(v.d)("About me",[],v.c,"aboutMe")]}),Object(f.jsxs)("p",{children:["Full name: ",Object(v.d)("Full Name",[],v.b,"fullName")]}),Object(f.jsxs)("p",{children:["Contacts: ",Object.keys(s.contacts).map((function(t){return Object(f.jsxs)("div",{children:[t,": ",Object(v.d)(t,[],v.b,"contacts."+t)]},t)}))]})]})})),S=function(t){var e=t.profile,s=t.status,n=t.updateStatus,c=t.isOwner,o=t.savePhoto,r=t.saveProfile,i=Object(a.useState)(!1),u=Object(j.a)(i,2),b=u[0],O=u[1];if(!e)return Object(f.jsx)(l.a,{});return Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{className:p.a.ava,src:e.photos.large||d}),c&&Object(f.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&o(t.target.files[0])}}),b?Object(f.jsx)(y,{initialValues:e,profile:e,onSubmit:function(t){r(t).then((function(){O(!1)}))}}):Object(f.jsx)(m,{profile:e,isOwner:c,toEditMode:function(){O(!0)}}),Object(f.jsx)(h,{status:s,updateStatus:n})]})},_=s(304),w=s.n(_),A=s(306),C=s.n(A),F=function(t){return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:C.a.item_post,children:[Object(f.jsx)("img",{src:"https://images.ctfassets.net/hrltx12pl8hq/7yQR5uJhwEkRfjwMFJ7bUK/dc52a0913e8ff8b5c276177890eb0129/offset_comp_772626-opt.jpg?fit=fill&w=800&h=300"}),Object(f.jsx)("br",{}),Object(f.jsx)("p",{children:t.message}),Object(f.jsxs)("span",{children:["Like - ",t.likesCount]}),Object(f.jsx)("hr",{})]})})},J=s(103),M=s(43),D=s(97),E=s(71),N=Object(E.a)(10),I=Object(E.b)(2),U=Object(v.a)("textarea"),L=Object(g.a)({form:"post"})((function(t){return Object(f.jsxs)("form",{onSubmit:t.handleSubmit,className:w.a.posts,children:["My posts",Object(f.jsx)("br",{}),Object(f.jsx)(D.a,{placeholder:"Enter your message",name:"post",component:U,validate:[E.c,N,I]}),Object(f.jsx)("br",{}),Object(f.jsx)("button",{children:"Add"}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{})]})})),T=u.a.memo((function(t){var e=Object(M.a)(t.posts).reverse().map((function(t){return Object(f.jsx)(F,{message:t.msg,likesCount:t.likesCount},t.id)}));return Object(f.jsxs)("div",{children:[Object(f.jsx)(L,{onSubmit:function(e){t.addPost(e.post)}}),e]})})),V=s(18),R=Object(V.b)((function(t){return{posts:t.ProfilePage.postsAll,newPostText:t.ProfilePage.newText}}),(function(t){return{addPost:function(e){t(Object(J.a)(e))}}}))(T),q=function(t){return Object(f.jsxs)("div",{children:[Object(f.jsx)(S,{saveProfile:t.saveProfile,savePhoto:t.savePhoto,isOwner:t.isOwner,profile:t.profile,status:t.status,updateStatus:t.updateUserStatus}),Object(f.jsx)(R,{})]})},B=(s(81),s(10)),H=(s(302),s(9)),K=function(t){Object(r.a)(s,t);var e=Object(i.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(o.a)(s,[{key:"refreshProfile",value:function(){var t=this.props.match.params.id;t||(t=this.props.userId)||this.props.history.push("/login"),this.props.getContent(t),this.props.getUserStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.match.params.id!=t.match.params.id&&this.refreshProfile()}},{key:"render",value:function(){return Object(f.jsx)(q,Object(n.a)(Object(n.a)({saveProfile:this.props.saveProfile,savePhoto:this.props.savePhoto,isOwner:!this.props.match.params.id},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateUserStatus}))}}]),s}(u.a.Component);e.default=Object(H.d)(Object(V.b)((function(t){return{profile:t.ProfilePage.profile,status:t.ProfilePage.status,userId:t.authPage.userId,isAuth:t.authPage.isAuth}}),{getContent:J.c,getUserStatus:J.d,updateUserStatus:J.g,savePhoto:J.e,saveProfile:J.f}),B.g)(K)}}]);
//# sourceMappingURL=3.2cd6ad3c.chunk.js.map