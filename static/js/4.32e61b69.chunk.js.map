{"version":3,"sources":["components/Dialogs/dialogs.module.css","hoc/authRedirect.js","components/Dialogs/DialogMessage/dialogMsg.jsx","components/Dialogs/DialogUser/dialogUser.jsx","components/Dialogs/dialog_main.jsx","components/Dialogs/dialog_mainContainer.jsx"],"names":["module","exports","mapStateToPropsForRedirect","state","isAuth","authPage","AuthRedirect","Component","RedirectComponent","this","props","to","React","connect","UserMsg","className","dcss","message","msg","DialogUser","userLink","link","user","active","name","maxLengthCreator10","maxLengthCreator","minLengthCreator2","minLengthCreator","Textarea","Element","DialogReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","validate","required","placeholder","Dialog","msgPage","dialogs_data2","dialogsData","map","dialog","id","msg_data2","dialogsMsg","dialogs","dialogs_users","messages","value","SendMsg","newMessageBody","DialogContainer","getDialogs","compose","MessagePage","withRouter"],"mappings":"6FACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,QAAU,yBAAyB,cAAgB,+BAA+B,OAAS,wBAAwB,SAAW,0BAA0B,KAAO,wB,qJCGhNC,EAA6B,SAACC,GAC9B,MAAO,CACHC,OAAQD,EAAME,SAASD,SAIlBE,EAAe,SAACC,GAAe,IAClCC,EADiC,4JAEnC,WACI,OAAIC,KAAKC,MAAMN,OAGR,cAACG,EAAD,eAAeE,KAAKC,QAFhB,cAAC,IAAD,CAAUC,GAAI,eAJM,GACPC,IAAML,WAWtC,OAFqCM,YAAQX,EAARW,CAAoCL,K,sICX9DM,EANC,SAACJ,GACf,OACI,qBAAKK,UAAWC,IAAKC,QAArB,SAA+BP,EAAMQ,O,QCS5BC,EAVI,SAACT,GAClB,IAAIU,EAAW,oBAAsBV,EAAMW,KAE3C,OACI,qBAAKN,UAAWC,IAAKM,KAAO,IAAMN,IAAKO,OAAvC,SACA,cAAC,IAAD,CAASZ,GAAIS,EAAb,SAAwBV,EAAMc,U,iCCC9BC,EAAqBC,YAAiB,IACtCC,EAAoBC,YAAiB,GAErCC,EAAWC,YAAQ,YAcnBC,EAAkBC,YAAU,CAC9BC,KAAM,UADcD,EAZL,SAACtB,GACpB,OACI,uBAAMwB,SAAUxB,EAAMyB,aAAtB,UACI,8BACI,cAACC,EAAA,EAAD,CAAOC,UAAWR,EAAUS,SAAU,CAACC,IAAUd,EAAoBE,GAAoBH,KAAM,iBAAkBgB,YAAa,yBAElI,8BACI,kDAuCGC,EA9BA,SAAC/B,GAEd,IAAIgC,EAAUhC,EAAMgC,QAChBC,EAAgBD,EAAQE,YAAYC,KACtC,SAACC,GAAD,OAAY,cAAC,EAAD,CAAYtB,KAAMsB,EAAOtB,KAAsBH,KAAMyB,EAAOC,IAAxBD,EAAOC,OAGrDC,EAAYN,EAAQO,WAAWJ,KACjC,SAAC3B,GAAD,OAAS,cAAC,EAAD,CAAsBA,IAAKA,EAAIA,KAAjBA,EAAI6B,OAG7B,GAAmB,GAAhBrC,EAAMN,OACH,OAAO,cAAC,IAAD,CAAUO,GAAI,WAK3B,OACA,sBAAKI,UAAWC,IAAKkC,QAArB,UACM,qBAAKnC,UAAWC,IAAKmC,cAArB,SACKR,IAEL,sBAAK5B,UAAWC,IAAKoC,SAArB,UACI,8BAAMJ,IACN,cAACjB,EAAD,CAAiBG,SAVZ,SAACmB,GACV3C,EAAM4C,QAAQD,EAAME,0B,wBCtCtBC,E,uKACF,WACQ/C,KAAKC,MAAM+C,e,oBAEnB,WACI,OAAO,cAAC,EAAD,CAAQH,QAAU7C,KAAKC,MAAM4C,QACrBZ,QAASjC,KAAKC,MAAMgC,QACpBtC,OAAQK,KAAKC,MAAMN,a,GAPZQ,IAAML,WAmBrBmD,sBACX7C,aARkB,SAACV,GACnB,MAAO,CACHuC,QAASvC,EAAMwD,eAOf,CACIF,eACAH,cAERM,IACAtD,IAPWoD,CAQbF","file":"static/js/4.32e61b69.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"dialogs_content__2U8sa\",\"dialogs\":\"dialogs_dialogs__29D-N\",\"dialogs_users\":\"dialogs_dialogs_users__386Cy\",\"active\":\"dialogs_active__2YmQ4\",\"messages\":\"dialogs_messages__3NOnc\",\"user\":\"dialogs_user__2lEIl\"};","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n        isAuth: state.authPage.isAuth\r\n    }\r\n}\r\n\r\nexport const AuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if(!this.props.isAuth) {\r\n                return <Redirect to={\"/login\"} />\r\n            }\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}\r\n","import React from 'react';\r\nimport dcss from './../dialogs.module.css';\r\n\r\nconst UserMsg = (props) => {\r\n  return (\r\n      <div className={dcss.message}>{props.msg}</div>\r\n  );\r\n}\r\n\r\nexport default UserMsg;\r\n","import React from 'react';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport dcss from './../dialogs.module.css';\r\n\r\nconst DialogUser = (props) => {\r\n  let userLink = \"/dialog_main.jsx/\" + props.link;\r\n\r\n  return (\r\n      <div className={dcss.user + ' ' + dcss.active}>\r\n      <NavLink to={userLink}>{props.name}</NavLink>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DialogUser;\r\n","import React from 'react';\r\nimport dcss from './dialogs.module.css';\r\nimport {NavLink, Redirect} from \"react-router-dom\";\r\nimport UserMsg from './DialogMessage/dialogMsg.jsx';\r\nimport DialogUser from './DialogUser/dialogUser.jsx';\r\nimport {SendMsg, UpdateMsgBody} from \"../../redux/dialogsReducer\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, minLengthCreator, required} from \"../../utils/validators/validators\";\r\nimport {Element} from \"./.././common/FormsControl/FormlsControl\";\r\n\r\nconst maxLengthCreator10 = maxLengthCreator(10);\r\nconst minLengthCreator2 = minLengthCreator(2);\r\n\r\nconst Textarea = Element(\"textarea\");\r\n\r\nconst DialogForm = (props) => {\r\nreturn (\r\n    <form onSubmit={props.handleSubmit}>\r\n        <div>\r\n            <Field component={Textarea} validate={[required, maxLengthCreator10, minLengthCreator2]} name={\"newMessageBody\"} placeholder={\"Enter your message\"}></Field>\r\n        </div>\r\n        <div>\r\n            <button>Send</button>\r\n        </div>\r\n    </form>\r\n);\r\n}\r\nconst DialogReduxForm = reduxForm({\r\n    form: 'dialog'\r\n})(DialogForm)\r\n\r\nconst Dialog = (props) => {\r\n\r\n  let msgPage = props.msgPage;\r\n  let dialogs_data2 = msgPage.dialogsData.map(\r\n    (dialog) => <DialogUser name={dialog.name} key={dialog.id} link={dialog.id} />\r\n   );\r\n\r\n  let msg_data2 = msgPage.dialogsMsg.map(\r\n    (msg) => <UserMsg key={msg.id} msg={msg.msg} />\r\n  );\r\n\r\n  if(props.isAuth == false) {\r\n        return <Redirect to={\"/login\"} />\r\n  }\r\n    let addMsg = (value) => {\r\n        props.SendMsg(value.newMessageBody);\r\n    }\r\n  return(\r\n  <div className={dcss.dialogs}>\r\n        <div className={dcss.dialogs_users}>\r\n            {dialogs_data2}\r\n        </div>\r\n        <div className={dcss.messages}>\r\n            <div>{msg_data2}</div>\r\n            <DialogReduxForm onSubmit={addMsg} />\r\n        </div>\r\n</div>\r\n  );\r\n}\r\n\r\nexport default Dialog;\r\n","import React from 'react';\r\nimport {getDialogs, SendMsg} from '../../redux/dialogsReducer.js';\r\nimport Dialog from \"./dialog_main\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect, withRouter} from \"react-router-dom\";\r\nimport {AuthRedirect} from \"../../hoc/authRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nclass DialogContainer extends React.Component {\r\n    componentDidMount() {\r\n            this.props.getDialogs()\r\n    }\r\n    render() {\r\n        return <Dialog SendMsg ={this.props.SendMsg}\r\n                       msgPage={this.props.msgPage}\r\n                       isAuth={this.props.isAuth}\r\n        />\r\n\r\n    }\r\n}\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        msgPage: state.MessagePage\r\n    }\r\n}\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps,\r\n        {\r\n            getDialogs,\r\n            SendMsg\r\n        }),\r\n    withRouter,\r\n    AuthRedirect\r\n)(DialogContainer)\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}